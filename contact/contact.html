<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gavin Woods</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css">
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
</head>
<body>
    <main>
        <div class="contact-container">
            <h2>Contact Me (not functional)</h2>
            <form class="contact-form" id="contactForm" autocomplete="off">
                <label for="name">Name</label>
                <input type="text" id="name" name="name" required>

                <label for="email">Email</label>
                <input type="email" id="email" name="email" required>

                <label for="message">Message</label>
                <textarea id="message" name="message" rows="5" required style="width:100%;padding:0.7rem;margin-bottom:1.2rem;border:1px solid #ccc;border-radius:4px;font-size:1em;"></textarea>
                
                
  

<div class="cf-turnstile" data-sitekey="0x4AAAAAAB6aCdEv50HIORgH"></div>
                <button type="submit">Send Message</button>
                <div id="contact-success" style="color:#090; text-align:center; margin-top:1em; display:none;"></div>
                <div id="contact-error" style="color:#c00; text-align:center; margin-top:1em; display:none;"></div>
            </form>
        </div>
    </main>
    <footer>
<style>
    .contact-container {
        max-width: 500px;
        margin: 60px auto 0 auto;
        background: #fff;
        border: 1px solid #ddd;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.07);
        padding: 2rem 2.5rem 2.5rem 2.5rem;
    }
    .contact-container h2 {
        text-align: center;
        margin-bottom: 1.5rem;
        color: #222;
    }
    .contact-form label {
        display: block;
        margin-bottom: 0.5rem;
        color: #222;
        font-weight: 500;
    }
    .contact-form input[type="text"],
    .contact-form input[type="email"] {
        width: 100%;
        padding: 0.7rem;
        margin-bottom: 1.2rem;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 1em;
    }
    .contact-form button[type="submit"] {
        width: 100%;
        padding: 0.8rem;
        background: #222;
        color: #fff;
        border: none;
        border-radius: 4px;
        font-size: 1.1em;
        font-weight: bold;
        cursor: pointer;
        transition: background 0.2s;
    }
    .contact-form button[type="submit"]:hover {
        background: #444;
    }
    @media (max-width: 500px) {
        .contact-container {
            padding: 1.2rem 0.7rem 1.5rem 0.7rem;
        }
    }
</style>
        <!-- Footer content goes here -->
        <div id="bottom-bar" style="background:#fff; color:#222; padding:12px 0; text-align:center; border-top:1.5px solid #ccc; margin-top:0;">
            <a href="https://github.com/AMathBoi" target="_blank" style="color:#222; margin:0 16px; text-decoration:none; font-weight:bold;"><img src="/img/github-icon.png" alt="GitHub Icon" style="width:16px; height:16px; vertical-align:auto;"> GitHub</a>
            <a href="https://modrinth.com/user/AMathBoi" target="_blank" style="color:#222; margin:0 16px; text-decoration:none; font-weight:bold;"><img src="/img/modrinth.png" alt="Modrinth Icon" style="width:16px; height:16px; vertical-align:auto;"> Modrinth</a>
            <!-- Add more platform links here -->
        </div>
    </footer>
<script>
    function loadTopBar() {
        fetch('/etc/top-bar.html')
            .then(response => response.text())
            .then(html => {
                const topBar = document.createElement('div');
                topBar.innerHTML = html;
                document.body.insertBefore(topBar, document.body.firstChild);

                const menuIcon = topBar.querySelector('.menu-icon img');
                const menu = topBar.querySelector('.menu');

                if (menuIcon && menu) {
                    menuIcon.addEventListener('click', (e) => {
                        e.stopPropagation(); // Prevent document click from firing
                        menu.classList.toggle('active');
                    });

                    // Prevent clicks inside the menu from closing it
                    //test
                    menu.addEventListener('click', (e) => {
                        e.stopPropagation();
                    });

                    // Clicking outside the menu (on the document, but not on the menu or menu icon) closes the menu
                    document.addEventListener('click', function(e) {
                        if (menu.classList.contains('active')) {
                            // If click is outside menu and menu icon
                            if (!menu.contains(e.target) && !menuIcon.contains(e.target)) {
                                menu.classList.remove('active');
                            }
                        }
                    });

                    // Pressing Escape closes the menu
                    document.addEventListener('keydown', (e) => {
                        if (e.key === 'Escape' && menu.classList.contains('active')) {
                            menu.classList.remove('active');
                        }
                    });
                }
            });
    }

    function handleBottomBar() {
        const bottomBar = document.getElementById('bottom-bar');
        function checkScroll() {
            const scrollY = window.scrollY || window.pageYOffset;
            const windowHeight = window.innerHeight;
            const bodyHeight = document.body.offsetHeight;
            if (scrollY + windowHeight >= bodyHeight - 2) {
                bottomBar.classList.add('active');
            } else {
                bottomBar.classList.remove('active');
            }
        }
        window.addEventListener('scroll', checkScroll);
        window.addEventListener('resize', checkScroll);
        checkScroll();
    }

    // Add login indicator if logged in
    function showLoginIndicator() {
        const bottomBar = document.getElementById('bottom-bar');
        if (localStorage.getItem('isLoggedIn') === 'true' && bottomBar) {
            let indicator = document.getElementById('login-indicator');
            if (!indicator) {
                indicator = document.createElement('span');
                indicator.id = 'login-indicator';
                indicator.textContent = 'Logged in';
                indicator.style.cssText = 'color:#090; margin-left:18px; font-weight:bold; font-size:1em;';
                bottomBar.appendChild(indicator);
            }
        } else {
            const indicator = document.getElementById('login-indicator');
            if (indicator) indicator.remove();
        }
    }
    showLoginIndicator();
    window.addEventListener('storage', showLoginIndicator);

    loadTopBar();
    handleBottomBar();

    // Contact form handler
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('contactForm');
        const successDiv = document.getElementById('contact-success');
        const errorDiv = document.getElementById('contact-error');
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                successDiv.style.display = 'none';
                errorDiv.style.display = 'none';
                // Simulate sending (replace with real API call if needed)
                setTimeout(() => {
                    successDiv.textContent = 'Thank you for contacting us!';
                    successDiv.style.display = 'block';
                    form.reset();
                }, 700);
            });
        }
    });
</script>
</body>
</html>